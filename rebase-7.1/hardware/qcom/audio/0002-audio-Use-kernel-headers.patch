From 07aa68f63a55d133ea44cba60da31878570125fa Mon Sep 17 00:00:00 2001
From: Chirayu Desai <chirayudesai1@gmail.com>
Date: Thu, 13 Nov 2014 09:08:13 +0530
Subject: [PATCH 2/5] audio: Use kernel headers

Change-Id: I7a238b7c105d58eb6ec7794ec7a6af37f63c4cb0
---
 hal/Android.mk       | 3 +++
 post_proc/Android.mk | 6 ++++++
 2 files changed, 9 insertions(+)

diff --git a/hal/Android.mk b/hal/Android.mk
index f3d2798..db488eb 100644
--- a/hal/Android.mk
+++ b/hal/Android.mk
@@ -93,6 +93,9 @@ LOCAL_C_INCLUDES += \
 	$(LOCAL_PATH)/voice_extn \
 	external/expat/lib
 
+LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
+LOCAL_ADDITIONAL_DEPENDENCIES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
+
 ifeq ($(strip $(AUDIO_FEATURE_ENABLED_SMART_PA_TFA_98XX)),true)
     LOCAL_SHARED_LIBRARIES += libexTfa98xx
     LOCAL_CFLAGS += -DSMART_PA_TFA_98XX_SUPPORTED
diff --git a/post_proc/Android.mk b/post_proc/Android.mk
index 83f6a49..59361aa 100644
--- a/post_proc/Android.mk
+++ b/post_proc/Android.mk
@@ -28,6 +28,9 @@ LOCAL_C_INCLUDES := \
 	external/tinyalsa/include \
 	$(call include-path-for, audio-effects)
 
+LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
+LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
+
 include $(BUILD_SHARED_LIBRARY)
 endif
 
@@ -56,6 +59,9 @@ LOCAL_C_INCLUDES := \
         hardware/qcom/audio/hal \
 	$(call include-path-for, audio-effects)
 
+LOCAL_C_INCLUDES += $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr/include
+LOCAL_ADDITIONAL_DEPENDENCIES := $(TARGET_OUT_INTERMEDIATES)/KERNEL_OBJ/usr
+
 include $(BUILD_SHARED_LIBRARY)
 
 endif
-- 
2.7.4

